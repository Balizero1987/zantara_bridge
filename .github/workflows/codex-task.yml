name: Codex Task

on:
  repository_dispatch: {}
  workflow_dispatch: {}

permissions:
  contents: write
  pull-requests: write

jobs:
  apply:
    if: github.event_name == 'repository_dispatch' && github.event.action == 'codex-task' || github.event_name == 'workflow_dispatch'
    runs-on: ubuntu-latest
    steps:
      - name: Echo inputs
        run: |
          echo "Branch: ${{ github.event.client_payload.branch || inputs.branch }}"
          echo "Title: ${{ github.event.client_payload.title || inputs.title }}"
